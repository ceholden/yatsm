

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>yatsm.ts_driver.timeseries module &mdash; YATSM 0.1.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="YATSM 0.1.0 documentation" href="../index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../index.html" class="fa fa-home"> YATSM</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="../guide/install.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../guide/install.html#dependencies">Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guide/install.html#virtualenv">virtualenv</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guide/install.html#python-dependencies">Python Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guide/install.html#quick-installation">Quick Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guide/install.html#developer-installation">Developer Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guide/install.html#virtual-machine-image">Virtual Machine Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guide/install.html#platform-support">Platform Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../guide/dataset.html">Dataset Preparation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide/exploration.html">Model Parameter Exploration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide/configuration.html">Model Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../guide/configuration.html#configuration-file">Configuration File</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guide/configuration.html#dataset-parameters">Dataset Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guide/configuration.html#model-parameters">Model Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guide/configuration.html#classification">Classification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guide/configuration.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../guide/batch_interface.html">Batch Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../guide/batch_interface.html#sun-grid-engine">Sun Grid Engine</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../guide/map_static.html">Mapping Derived Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide/map_changes.html">Mapping Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide/classification.html">Classification</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scripts/scripts.html">Command Line Utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../scripts/gen_date_file.html"><cite>gen_date_file.sh</cite></a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripts/run_yatsm.html"><cite>run_yatsm.py</cite></a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripts/line_yatsm.html"><cite>line_yatsm.py</cite></a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripts/yatsm_changemap.html"><cite>yatsm_changemap.py</cite></a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripts/yatsm_map.html"><cite>yatsm_map.py</cite></a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripts/train_yatsm.html"><cite>train_yatsm.py</cite></a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">YATSM</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>yatsm.ts_driver.timeseries module</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="https://github.com/ceholden/yatsm/blob/master/docs/yatsm/yatsm.ts_driver.timeseries.rst" class="fa fa-github"> Edit on GitHub</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="module-yatsm.ts_driver.timeseries">
<span id="yatsm-ts-driver-timeseries-module"></span><h1>yatsm.ts_driver.timeseries module<a class="headerlink" href="#module-yatsm.ts_driver.timeseries" title="Permalink to this headline">¶</a></h1>
<dl class="docutils">
<dt>/<strong>***********************************************************************</strong></dt>
<dd><dl class="first docutils">
<dt>timeseries</dt>
<dd>A QGIS plugin</dd>
<dt>Plotting &amp; visualization tools for time series analysis</dt>
<dd><blockquote class="first">
<div></div></blockquote>
<p class="last">begin                : 2013-03-15
copyright            : (C) 2013 by Chris Holden
email                : <a class="reference external" href="mailto:ceholden&#37;&#52;&#48;bu&#46;edu">ceholden<span>&#64;</span>bu<span>&#46;</span>edu</a></p>
</dd>
</dl>
<p class="last"><strong>***********************************************************************</strong>/</p>
</dd>
<dt>/<strong>***********************************************************************</strong></dt>
<dd><ul class="first simple">
<li><ul class="first">
<li></li>
</ul>
</li>
<li>This program is free software; you can redistribute it and/or modify  *</li>
<li>it under the terms of the GNU General Public License as published by  *</li>
<li>the Free Software Foundation; either version 2 of the License, or     *</li>
<li>(at your option) any later version.                                   *</li>
<li><ul class="first">
<li></li>
</ul>
</li>
</ul>
<p class="last"><strong>***********************************************************************</strong>/</p>
</dd>
</dl>
<dl class="class">
<dt id="yatsm.ts_driver.timeseries.AbstractTimeSeries">
<em class="property">class </em><tt class="descclassname">yatsm.ts_driver.timeseries.</tt><tt class="descname">AbstractTimeSeries</tt><big>(</big><em>location</em>, <em>image_pattern</em>, <em>stack_pattern</em><big>)</big><a class="headerlink" href="#yatsm.ts_driver.timeseries.AbstractTimeSeries" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Abstract base class representing a remote sensing time series.</p>
<p>AbstractTimeSeries class is meant to be sub-classed and its methods
overriden. This interface simply defines attributes and methods expected
by &#8220;TSTools&#8221; QGIS plugin.</p>
<dl class="docutils">
<dt>Required attributes:</dt>
<dd>image_names                 Names or IDs for each image
filenames                   File basename for each image
filepaths                   Full path to each image
length                      Number of images in time series
dates                       np.array of datetime for each image
n_band                      number of bands per image
x_size                      number of columns per image
y_size                      number of rows per image
geo_transform               geo-transform of images
projection                  projection of images
px                          current pixel column
py                          current pixel row
has_results                 boolean indicating existence of model fit</dd>
<dt>Required methods:</dt>
<dd>fetch_pixel                 retrieve pixel data for given x/y
fetch_result                retrieve result for given x/y
get_data                    return dataset
get_prediction              return predicted dataset for x/y
get_breaks                  return break points for time segments</dd>
<dt>Additional attributes:</dt>
<dd>has_cache                   boolean indicating existence of cached data
can_cache                   boolean indicating potential to cache data
cache_folder                location of cache, if any
mask_band                   band (index on 0) of mask within images
mask_val                    values to mask</dd>
<dt>Additional methods:</dt>
<dd>apply_mask                  apply mask to dataset
retrieve_from_cache         retrieve dataset from cached retrieval
write_to_cache              write retrieved dataset to cache</dd>
</dl>
<dl class="method">
<dt id="yatsm.ts_driver.timeseries.AbstractTimeSeries.apply_mask">
<tt class="descname">apply_mask</tt><big>(</big><em>mask_band=None</em>, <em>mask_val=None</em><big>)</big><a class="headerlink" href="#yatsm.ts_driver.timeseries.AbstractTimeSeries.apply_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Use subclasser to set if capability is available</p>
</dd></dl>

<dl class="attribute">
<dt id="yatsm.ts_driver.timeseries.AbstractTimeSeries.dates">
<tt class="descname">dates</tt><a class="headerlink" href="#yatsm.ts_driver.timeseries.AbstractTimeSeries.dates" title="Permalink to this definition">¶</a></dt>
<dd><p>np.array of datetime for each image</p>
</dd></dl>

<dl class="attribute">
<dt id="yatsm.ts_driver.timeseries.AbstractTimeSeries.filenames">
<tt class="descname">filenames</tt><a class="headerlink" href="#yatsm.ts_driver.timeseries.AbstractTimeSeries.filenames" title="Permalink to this definition">¶</a></dt>
<dd><p>File basename for each image</p>
</dd></dl>

<dl class="attribute">
<dt id="yatsm.ts_driver.timeseries.AbstractTimeSeries.filepaths">
<tt class="descname">filepaths</tt><a class="headerlink" href="#yatsm.ts_driver.timeseries.AbstractTimeSeries.filepaths" title="Permalink to this definition">¶</a></dt>
<dd><p>Full path to each image</p>
</dd></dl>

<dl class="attribute">
<dt id="yatsm.ts_driver.timeseries.AbstractTimeSeries.geo_transform">
<tt class="descname">geo_transform</tt><a class="headerlink" href="#yatsm.ts_driver.timeseries.AbstractTimeSeries.geo_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>geo-transform for each image</p>
</dd></dl>

<dl class="method">
<dt id="yatsm.ts_driver.timeseries.AbstractTimeSeries.get_breaks">
<tt class="descname">get_breaks</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#yatsm.ts_driver.timeseries.AbstractTimeSeries.get_breaks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="yatsm.ts_driver.timeseries.AbstractTimeSeries.get_data">
<tt class="descname">get_data</tt><big>(</big><em>mask=True</em><big>)</big><a class="headerlink" href="#yatsm.ts_driver.timeseries.AbstractTimeSeries.get_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="yatsm.ts_driver.timeseries.AbstractTimeSeries.get_prediction">
<tt class="descname">get_prediction</tt><big>(</big><em>band</em><big>)</big><a class="headerlink" href="#yatsm.ts_driver.timeseries.AbstractTimeSeries.get_prediction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="yatsm.ts_driver.timeseries.AbstractTimeSeries.get_px">
<tt class="descname">get_px</tt><big>(</big><big>)</big><a class="headerlink" href="#yatsm.ts_driver.timeseries.AbstractTimeSeries.get_px" title="Permalink to this definition">¶</a></dt>
<dd><p>current pixel column number</p>
</dd></dl>

<dl class="method">
<dt id="yatsm.ts_driver.timeseries.AbstractTimeSeries.get_py">
<tt class="descname">get_py</tt><big>(</big><big>)</big><a class="headerlink" href="#yatsm.ts_driver.timeseries.AbstractTimeSeries.get_py" title="Permalink to this definition">¶</a></dt>
<dd><p>current pixel row number</p>
</dd></dl>

<dl class="method">
<dt id="yatsm.ts_driver.timeseries.AbstractTimeSeries.get_ts_pixel">
<tt class="descname">get_ts_pixel</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#yatsm.ts_driver.timeseries.AbstractTimeSeries.get_ts_pixel" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch pixel data for a given x/y and set to self.data</p>
</dd></dl>

<dl class="attribute">
<dt id="yatsm.ts_driver.timeseries.AbstractTimeSeries.has_results">
<tt class="descname">has_results</tt><a class="headerlink" href="#yatsm.ts_driver.timeseries.AbstractTimeSeries.has_results" title="Permalink to this definition">¶</a></dt>
<dd><p>boolean indicating existence of model fit</p>
</dd></dl>

<dl class="attribute">
<dt id="yatsm.ts_driver.timeseries.AbstractTimeSeries.image_names">
<tt class="descname">image_names</tt><a class="headerlink" href="#yatsm.ts_driver.timeseries.AbstractTimeSeries.image_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Common names or IDs for each image</p>
</dd></dl>

<dl class="attribute">
<dt id="yatsm.ts_driver.timeseries.AbstractTimeSeries.length">
<tt class="descname">length</tt><a class="headerlink" href="#yatsm.ts_driver.timeseries.AbstractTimeSeries.length" title="Permalink to this definition">¶</a></dt>
<dd><p>Length of the time series</p>
</dd></dl>

<dl class="attribute">
<dt id="yatsm.ts_driver.timeseries.AbstractTimeSeries.n_band">
<tt class="descname">n_band</tt><a class="headerlink" href="#yatsm.ts_driver.timeseries.AbstractTimeSeries.n_band" title="Permalink to this definition">¶</a></dt>
<dd><p>number of bands per image</p>
</dd></dl>

<dl class="attribute">
<dt id="yatsm.ts_driver.timeseries.AbstractTimeSeries.projection">
<tt class="descname">projection</tt><a class="headerlink" href="#yatsm.ts_driver.timeseries.AbstractTimeSeries.projection" title="Permalink to this definition">¶</a></dt>
<dd><p>projection for each image</p>
</dd></dl>

<dl class="method">
<dt id="yatsm.ts_driver.timeseries.AbstractTimeSeries.retrieve_from_cache">
<tt class="descname">retrieve_from_cache</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#yatsm.ts_driver.timeseries.AbstractTimeSeries.retrieve_from_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Use subclasser to set if capability is available</p>
</dd></dl>

<dl class="method">
<dt id="yatsm.ts_driver.timeseries.AbstractTimeSeries.retrieve_pixel">
<tt class="descname">retrieve_pixel</tt><big>(</big><em>x</em>, <em>y</em>, <em>index</em><big>)</big><a class="headerlink" href="#yatsm.ts_driver.timeseries.AbstractTimeSeries.retrieve_pixel" title="Permalink to this definition">¶</a></dt>
<dd><p>Return pixel data for a given x/y and index in time series</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">data                    n_band x 1 np.array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="yatsm.ts_driver.timeseries.AbstractTimeSeries.retrieve_result">
<tt class="descname">retrieve_result</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#yatsm.ts_driver.timeseries.AbstractTimeSeries.retrieve_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve algorithm result for a given x/y</p>
</dd></dl>

<dl class="method">
<dt id="yatsm.ts_driver.timeseries.AbstractTimeSeries.set_px">
<tt class="descname">set_px</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#yatsm.ts_driver.timeseries.AbstractTimeSeries.set_px" title="Permalink to this definition">¶</a></dt>
<dd><p>set current pixel column number</p>
</dd></dl>

<dl class="method">
<dt id="yatsm.ts_driver.timeseries.AbstractTimeSeries.set_py">
<tt class="descname">set_py</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#yatsm.ts_driver.timeseries.AbstractTimeSeries.set_py" title="Permalink to this definition">¶</a></dt>
<dd><p>set current pixel row number</p>
</dd></dl>

<dl class="method">
<dt id="yatsm.ts_driver.timeseries.AbstractTimeSeries.write_to_cache">
<tt class="descname">write_to_cache</tt><big>(</big><big>)</big><a class="headerlink" href="#yatsm.ts_driver.timeseries.AbstractTimeSeries.write_to_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Use subclasser to set if capability is available</p>
</dd></dl>

<dl class="attribute">
<dt id="yatsm.ts_driver.timeseries.AbstractTimeSeries.x_size">
<tt class="descname">x_size</tt><a class="headerlink" href="#yatsm.ts_driver.timeseries.AbstractTimeSeries.x_size" title="Permalink to this definition">¶</a></dt>
<dd><p>number of columns per image</p>
</dd></dl>

<dl class="attribute">
<dt id="yatsm.ts_driver.timeseries.AbstractTimeSeries.y_size">
<tt class="descname">y_size</tt><a class="headerlink" href="#yatsm.ts_driver.timeseries.AbstractTimeSeries.y_size" title="Permalink to this definition">¶</a></dt>
<dd><p>number of rows per image</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="yatsm.ts_driver.timeseries.mat2dict">
<tt class="descclassname">yatsm.ts_driver.timeseries.</tt><tt class="descname">mat2dict</tt><big>(</big><em>matlabobj</em><big>)</big><a class="headerlink" href="#yatsm.ts_driver.timeseries.mat2dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility function:
Converts a scipy.io.matlab.mio5_params.mat_struct to a dictionary</p>
</dd></dl>

<dl class="function">
<dt id="yatsm.ts_driver.timeseries.ml2pydate">
<tt class="descclassname">yatsm.ts_driver.timeseries.</tt><tt class="descname">ml2pydate</tt><big>(</big><em>ml_date</em><big>)</big><a class="headerlink" href="#yatsm.ts_driver.timeseries.ml2pydate" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility function:
Returns Python datetime for MATLAB date</p>
</dd></dl>

<dl class="function">
<dt id="yatsm.ts_driver.timeseries.py2mldate">
<tt class="descclassname">yatsm.ts_driver.timeseries.</tt><tt class="descname">py2mldate</tt><big>(</big><em>py_date</em><big>)</big><a class="headerlink" href="#yatsm.ts_driver.timeseries.py2mldate" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility function:
Returns MATLAB datenum for Python datetime</p>
</dd></dl>

</div>


          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Chris Holden.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>